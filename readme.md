# 代码运行指南

## 1. 文件夹说明

`Data`文件夹里是原始数据

- `行业配置池`：研报推荐原始数据
- `全部A股`：为获得申万三级行业对应关系导出的（无需更新）
- `trans_dict`：一些关键词的映射到申万行业的标准用词（有色：有色金属）。该文件可随时修改增加，现有名称如有多个，用英文逗号分割。

`intermediateData`中间数据，无需查看，主要为了运行加快，每次运行会生成一个文件，当天再次运行则不会增加，隔日运行会生成新的文件（往期文件可删除）

`outputData`输出最终文件

- `申万行业推荐次数_20210812`
- `行业底层数据观察_20210812`

`pic`文件夹为各行业的走势图



## 2. 代码说明

`basicData`主要导入一些wind中的数据：行业板块涨跌幅数据，申万行业数据，wind交易日日期数据等。可修改的包括benchmark的代码（当前为000905.SH）。

`processPlot`主要是数据处理和画图：

- 函数`basic_process`：可以强制删除一些无意义词汇，可自行添加；可选取券商数量，当前为研报数量排行前40的研报；
- 函数`ind_txt_process`：主要做模糊匹配，即包含了申万行业关键词即认为是该行业（如汽车产业会模糊匹配为汽车），可能存在一定的错误。

`dataOuput`输出最后的底层数据观察和申万行业推荐次数



## 3. 运行顺序

1. 首先运行`processPlot`，会生成中间文件和超额收益走势图
2. 再次运行`dataOutput`，生成输出的最终excel